{"ast":null,"code":"export function withHooks(hooks) {\n  return store => {\n    const createHook = name => {\n      const hook = hooks[name];\n      const currentHook = store.hooks[name];\n      return hook ? () => {\n        currentHook?.();\n        hook({\n          ...store.internals,\n          ...store.slices,\n          ...store.signals,\n          ...store.methods\n        });\n      } : currentHook;\n    };\n    return {\n      ...store,\n      hooks: {\n        onInit: createHook('onInit'),\n        onDestroy: createHook('onDestroy')\n      }\n    };\n  };\n}","map":{"version":3,"names":["withHooks","hooks","store","createHook","name","hook","currentHook","internals","slices","signals","methods","onInit","onDestroy"],"sources":["/home/jonatanMelzer/products-search-store/src/lib/base-features/with-hooks.ts"],"sourcesContent":["import {\n  EmptyFeatureResult,\n  Prettify,\n  SignalStoreFeature,\n  SignalStoreInternals,\n  SignalStoreSlices,\n  SignalStoreFeatureResult,\n} from '../signal-store-models';\n\ntype HooksFactory<Input extends SignalStoreFeatureResult> = (\n  store: Prettify<\n    SignalStoreInternals<Prettify<Input['state']>> &\n      SignalStoreSlices<Input['state']> &\n      Input['signals'] &\n      Input['methods']\n  >\n) => void;\n\nexport function withHooks<Input extends SignalStoreFeatureResult>(hooks: {\n  onInit?: HooksFactory<Input>;\n  onDestroy?: HooksFactory<Input>;\n}): SignalStoreFeature<Input, EmptyFeatureResult> {\n  return (store) => {\n    const createHook = (name: keyof typeof hooks) => {\n      const hook = hooks[name];\n      const currentHook = store.hooks[name];\n\n      return hook\n        ? () => {\n            currentHook?.();\n            hook({\n              ...store.internals,\n              ...store.slices,\n              ...store.signals,\n              ...store.methods,\n            });\n          }\n        : currentHook;\n    };\n\n    return {\n      ...store,\n      hooks: {\n        onInit: createHook('onInit'),\n        onDestroy: createHook('onDestroy'),\n      },\n    };\n  };\n}\n"],"mappings":"AAkBA,OAAM,SAAUA,SAASA,CAAyCC,KAGjE;EACC,OAAQC,KAAK,IAAI;IACf,MAAMC,UAAU,GAAIC,IAAwB,IAAI;MAC9C,MAAMC,IAAI,GAAGJ,KAAK,CAACG,IAAI,CAAC;MACxB,MAAME,WAAW,GAAGJ,KAAK,CAACD,KAAK,CAACG,IAAI,CAAC;MAErC,OAAOC,IAAI,GACP,MAAK;QACHC,WAAW,GAAE,CAAE;QACfD,IAAI,CAAC;UACH,GAAGH,KAAK,CAACK,SAAS;UAClB,GAAGL,KAAK,CAACM,MAAM;UACf,GAAGN,KAAK,CAACO,OAAO;UAChB,GAAGP,KAAK,CAACQ;SACV,CAAC;MACJ,CAAC,GACDJ,WAAW;IACjB,CAAC;IAED,OAAO;MACL,GAAGJ,KAAK;MACRD,KAAK,EAAE;QACLU,MAAM,EAAER,UAAU,CAAC,QAAQ,CAAC;QAC5BS,SAAS,EAAET,UAAU,CAAC,WAAW;;KAEpC;EACH,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}