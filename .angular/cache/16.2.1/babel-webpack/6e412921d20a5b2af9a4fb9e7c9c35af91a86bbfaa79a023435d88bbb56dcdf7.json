{"ast":null,"code":"import { excludeKeys } from './helpers';\nexport function withSignals(signalsFactory) {\n  return store => {\n    const signals = signalsFactory({\n      ...store.slices,\n      ...store.signals\n    });\n    const signalsKeys = Object.keys(signals);\n    const slices = excludeKeys(store.slices, signalsKeys);\n    const methods = excludeKeys(store.methods, signalsKeys);\n    return {\n      ...store,\n      slices,\n      signals: {\n        ...store.signals,\n        ...signals\n      },\n      methods\n    };\n  };\n}","map":{"version":3,"names":["excludeKeys","withSignals","signalsFactory","store","signals","slices","signalsKeys","Object","keys","methods"],"sources":["/home/jonatanMelzer/products-search-store/src/lib/base-features/with-signals.ts"],"sourcesContent":["import {\n  EmptyFeatureResult,\n  InnerSignalStore,\n  Prettify,\n  SignalsDictionary,\n  SignalStoreFeature,\n  SignalStoreFeatureResult,\n  SignalStoreSlices,\n} from '../signal-store-models';\nimport { excludeKeys } from './helpers';\n\nexport function withSignals<\n  Input extends SignalStoreFeatureResult,\n  Signals extends SignalsDictionary\n>(\n  signalsFactory: (\n    store: Prettify<SignalStoreSlices<Input['state']> & Input['signals']>\n  ) => Signals\n): SignalStoreFeature<Input, EmptyFeatureResult & { signals: Signals }> {\n  return (store) => {\n    const signals = signalsFactory({ ...store.slices, ...store.signals });\n    const signalsKeys = Object.keys(signals);\n    const slices = excludeKeys(store.slices, signalsKeys);\n    const methods = excludeKeys(store.methods, signalsKeys);\n\n    return {\n      ...store,\n      slices,\n      signals: { ...store.signals, ...signals },\n      methods,\n    } as InnerSignalStore<Record<string, unknown>, Signals>;\n  };\n}\n"],"mappings":"AASA,SAASA,WAAW,QAAQ,WAAW;AAEvC,OAAM,SAAUC,WAAWA,CAIzBC,cAEY;EAEZ,OAAQC,KAAK,IAAI;IACf,MAAMC,OAAO,GAAGF,cAAc,CAAC;MAAE,GAAGC,KAAK,CAACE,MAAM;MAAE,GAAGF,KAAK,CAACC;IAAO,CAAE,CAAC;IACrE,MAAME,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC;IACxC,MAAMC,MAAM,GAAGL,WAAW,CAACG,KAAK,CAACE,MAAM,EAAEC,WAAW,CAAC;IACrD,MAAMG,OAAO,GAAGT,WAAW,CAACG,KAAK,CAACM,OAAO,EAAEH,WAAW,CAAC;IAEvD,OAAO;MACL,GAAGH,KAAK;MACRE,MAAM;MACND,OAAO,EAAE;QAAE,GAAGD,KAAK,CAACC,OAAO;QAAE,GAAGA;MAAO,CAAE;MACzCK;KACqD;EACzD,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}