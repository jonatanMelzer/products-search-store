{"ast":null,"code":"import { excludeKeys } from './helpers';\nexport function withMethods(methodsFactory) {\n  return store => {\n    const methods = methodsFactory({\n      ...store.internals,\n      ...store.slices,\n      ...store.signals,\n      ...store.methods\n    });\n    const methodsKeys = Object.keys(methods);\n    const slices = excludeKeys(store.slices, methodsKeys);\n    const signals = excludeKeys(store.signals, methodsKeys);\n    return {\n      ...store,\n      slices,\n      signals,\n      methods: {\n        ...store.methods,\n        ...methods\n      }\n    };\n  };\n}","map":{"version":3,"names":["excludeKeys","withMethods","methodsFactory","store","methods","internals","slices","signals","methodsKeys","Object","keys"],"sources":["/home/jonatanMelzer/products-search-store/src/lib/base-features/with-methods.ts"],"sourcesContent":["import {\n  EmptyFeatureResult,\n  InnerSignalStore,\n  MethodsDictionary,\n  Prettify,\n  SignalsDictionary,\n  SignalStoreFeature,\n  SignalStoreFeatureResult,\n  SignalStoreInternals,\n  SignalStoreSlices,\n} from '../signal-store-models';\nimport { excludeKeys } from './helpers';\n\nexport function withMethods<\n  Input extends SignalStoreFeatureResult,\n  Methods extends MethodsDictionary\n>(\n  methodsFactory: (\n    store: Prettify<\n      SignalStoreInternals<Prettify<Input['state']>> &\n        SignalStoreSlices<Input['state']> &\n        Input['signals'] &\n        Input['methods']\n    >\n  ) => Methods\n): SignalStoreFeature<Input, EmptyFeatureResult & { methods: Methods }> {\n  return (store) => {\n    const methods = methodsFactory({\n      ...store.internals,\n      ...store.slices,\n      ...store.signals,\n      ...store.methods,\n    });\n    const methodsKeys = Object.keys(methods);\n    const slices = excludeKeys(store.slices, methodsKeys);\n    const signals = excludeKeys(store.signals, methodsKeys);\n\n    return {\n      ...store,\n      slices,\n      signals,\n      methods: { ...store.methods, ...methods },\n    } as InnerSignalStore<Record<string, unknown>, SignalsDictionary, Methods>;\n  };\n}\n"],"mappings":"AAWA,SAASA,WAAW,QAAQ,WAAW;AAEvC,OAAM,SAAUC,WAAWA,CAIzBC,cAOY;EAEZ,OAAQC,KAAK,IAAI;IACf,MAAMC,OAAO,GAAGF,cAAc,CAAC;MAC7B,GAAGC,KAAK,CAACE,SAAS;MAClB,GAAGF,KAAK,CAACG,MAAM;MACf,GAAGH,KAAK,CAACI,OAAO;MAChB,GAAGJ,KAAK,CAACC;KACV,CAAC;IACF,MAAMI,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC;IACxC,MAAME,MAAM,GAAGN,WAAW,CAACG,KAAK,CAACG,MAAM,EAAEE,WAAW,CAAC;IACrD,MAAMD,OAAO,GAAGP,WAAW,CAACG,KAAK,CAACI,OAAO,EAAEC,WAAW,CAAC;IAEvD,OAAO;MACL,GAAGL,KAAK;MACRG,MAAM;MACNC,OAAO;MACPH,OAAO,EAAE;QAAE,GAAGD,KAAK,CAACC,OAAO;QAAE,GAAGA;MAAO;KACiC;EAC5E,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}